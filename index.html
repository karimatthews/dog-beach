<html>
    <head>
       <style>
           #gameCanvas {
               background-color: darkcyan;
               border: 1px solid black;
           }
       </style>
    </head>
    <body>
        <img id='dogRight1' src='./images/dog/dog_right_1.png' style='display: none;'>
        <img id='dogRight2' src='./images/dog/dog_right_2.png' style='display: none;'>
        <img id='dogLeft1' src='./images/dog/dog_left_1.png' style='display: none;'>
        <img id='dogLeft2' src='./images/dog/dog_left_2.png' style='display: none;'>
        <img id='dogDown1' src='./images/dog/dog_down_1.png' style='display: none;'>
        <img id='dogDown2' src='./images/dog/dog_down_2.png' style='display: none;'>
        <img id='dogUp1' src='./images/dog/dog_up_1.png' style='display: none;'>
        <img id='dogUp2' src='./images/dog/dog_up_2.png' style='display: none;'>

        <canvas id="gameCanvas" width="700" height="500">

        </canvas>
        <script>
            var canvas = document.getElementById("gameCanvas")
            var ctx = canvas.getContext("2d");

            var dogRight1 = document.getElementById('dogRight1')
            var dogRight2 = document.getElementById('dogRight2')
            var dogLeft1 = document.getElementById('dogLeft1')
            var dogLeft2 = document.getElementById('dogLeft2')
            var dogDown1 = document.getElementById('dogDown1')
            var dogDown2 = document.getElementById('dogDown2')
            var dogUp1 = document.getElementById('dogUp1')
            var dogUp2 = document.getElementById('dogUp2')

            var player = {
                x: 10,
                y: 10,
                dx: 0,
                dy: 0,
                width: 80,
                height: 80,
                currentImages: [dogRight1, dogRight2]
            }

            var tickCounter = 0;

            function drawWorld() {
                ctx.clearRect(0, 0, canvas.width, canvas.height)

                if (player.dx == 0 && player.dy == 0) {
                  player.currentImages = [player.currentImages[0], player.currentImages[0]]
                } else if (player.dx > 0) {
                  player.currentImages = [dogRight1, dogRight2]
                } else if (player.dx < 0) {
                  player.currentImages = [dogLeft1, dogLeft2]
                } else if (player.dy < 0) {
                  player.currentImages = [dogUp1, dogUp2]
                } else if (player.dy > 0) {
                  player.currentImages = [dogDown1, dogDown2]
                }

                ctx.drawImage(player.currentImages[+(tickCounter > 50)], player.x, player.y, player.width, player.height)
                window.requestAnimationFrame(drawWorld)
            }

            function tick() {
                tickCounter++
                if (tickCounter > 100) { tickCounter = 0 }

                if (0 < player.x + player.dx && player.x + player.dx < canvas.width - player.width) {
                    player.x += player.dx;
                }
                if (0 < player.y +player.dy && player.y +player.dy < canvas.height - player.height) {
                    player.y += player.dy;
                }

            }

            document.addEventListener("keydown", function(e) {
                if (e.keyCode === 38) {
                    //up arrow
                    player.dy = -1
                }
                if (e.keyCode === 40) {
                    //down arrow
                    player.dy = 1
                }
                if (e.keyCode === 37) {
                    //left arrow
                    player.dx = -1
                }
                if (e.keyCode === 39) {
                    //right arrow
                    player.dx = 1
                }
            });

            document.addEventListener("keyup", function(e) {

                if ([38, 40, 37, 39].indexOf(e.keyCode) !== -1) {
                    player.dx = 0;
                    player.dy = 0;
                }

            });
            setInterval(tick, 10);
            drawWorld()
        </script>
    </body>
</html>
